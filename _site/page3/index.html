<!DOCTYPE html>
<html lang="en">

<link href='//fonts.googleapis.com/css?family=Lato:400,700|Raleway:400,700|Comfortaa:700' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Tinix&#39;s different point of view.</title>
  <meta name="description" content="Also known as Tinix , Degree in Computer Science FaMAF,Writer Software, Ruby, Elixir, Rust, Go, Linux and FreeBSD, I like have Mate, 4 lang​​, but all that means almost nothing..
">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:3000/page3/">
  <link rel="alternate" type="application/rss+xml" title="Tinix&#39;s different point of view." href="http://localhost:3000/feed.xml">
</head>

  <body>
      <script id="dsq-count-scr" src="//tinixgit.disqus.com/count.js" async></script>

    <header class="site-header" role="banner">
    <!-- <div class="img-responsive">
      <img src="/fondo_ruby.jpg" height="100%"; alt="head_background">
    </div> -->
    </div>

  <div class="wrapper">

    <a class="site-title" href="/">Tinix&#39;s different point of view.</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- This loops through the paginated posts -->

  <script id="dsq-count-scr" src="//tinixgit.disqus.com/count.js" async></script>


  <h1><a href="/ruby/2018/08/07/updating-a-rails-password-via-the-rails-console.html">Updating a rails password via the rails console</a></h1>
  <p class="author">
    <span class="date">2018-08-07 16:47:20 -0300</span>
  </p>
  <div class="content">
    <p>I forgot one of my test passwords and realized I didn’t have a quick way to redo the password. There is a simple handful of commands fix this:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">001</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">u</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="no">User</span> <span class="no">Load</span> <span class="p">(</span><span class="mi">3</span><span class="o">.</span><span class="mi">5</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"users"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"users"</span> <span class="no">WHERE</span> <span class="s2">"users"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="mi">1</span> <span class="no">LIMIT</span> <span class="mi">1</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;User id: 1, name: "JJ Asghar", email: "jjasghar@gmail.com", created_at: "2014-04-18 17:46:48", updated_at: "2014-04-25 23:21:10", password_digest: "$2a$10$or/wJw1I8Wpf0lXNbtawveoQXETGJbUkv/VwXQXzn92r...", remember_token: "uUJTExCyt4mpAOpQWd4PMA"&gt;</span>
<span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">002</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">u</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;User id: 1, name: "JJ Asghar", email: "jjasghar@gmail.com", created_at: "2014-04-18 17:46:48", updated_at: "2014-04-25 23:21:10", password_digest: "$2a$10$or/wJw1I8Wpf0lXNbtawveoQXETGJbUkv/VwXQXzn92r...", remember_token: "uUJTExCyt4mpAOpQWd4PMA"&gt;</span>
<span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">003</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">u</span><span class="p">.</span><span class="nf">password</span> <span class="o">=</span> <span class="s2">"a_stupid_pa$$word"</span>
<span class="o">=&gt;</span> <span class="s2">"_stupid_pa$$word"</span>
<span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">004</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">u</span><span class="p">.</span><span class="nf">password_confirmation</span> <span class="o">=</span> <span class="s2">"a_stupid_pa$$word"</span>
<span class="o">=&gt;</span> <span class="s2">"_stupid_pa$$word"</span>
<span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">005</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">u</span><span class="p">.</span><span class="nf">save</span>
   <span class="p">(</span><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="n">ms</span><span class="p">)</span>  <span class="k">BEGIN</span>
  <span class="no">User</span> <span class="no">Exists</span> <span class="p">(</span><span class="mi">12</span><span class="o">.</span><span class="mi">2</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="mi">1</span> <span class="no">AS</span> <span class="n">one</span> <span class="no">FROM</span> <span class="s2">"users"</span> <span class="no">WHERE</span> <span class="p">(</span><span class="no">LOWER</span><span class="p">(</span><span class="s2">"users"</span><span class="o">.</span><span class="s2">"email"</span><span class="p">)</span> <span class="o">=</span> <span class="no">LOWER</span><span class="p">(</span><span class="s1">'jjasghar@gmail.com'</span><span class="p">)</span> <span class="no">AND</span> <span class="s2">"users"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="no">LIMIT</span> <span class="mi">1</span>
   <span class="p">(</span><span class="mi">15</span><span class="o">.</span><span class="mi">8</span><span class="n">ms</span><span class="p">)</span>  <span class="no">UPDATE</span> <span class="s2">"users"</span> <span class="no">SET</span> <span class="s2">"password_digest"</span> <span class="o">=</span> <span class="s1">'$2a$10$Za7prnrSthhE90AvB15BNOMl8sf3oL7onBpZ45nH/9skwHfn1EFA.'</span><span class="p">,</span> <span class="s2">"remember_token"</span> <span class="o">=</span> <span class="s1">'zOZYjEVovO143qrX1yhibw'</span><span class="p">,</span> <span class="s2">"updated_at"</span> <span class="o">=</span> <span class="s1">'2014-04-25 23:24:39.329502'</span> <span class="no">WHERE</span> <span class="s2">"users"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="mi">1</span>
   <span class="p">(</span><span class="mi">4</span><span class="o">.</span><span class="mi">6</span><span class="n">ms</span><span class="p">)</span>  <span class="no">COMMIT</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">006</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span></code></pre></figure>

<p>As you can see, you need to create an object via a find_by_<something>, in my case id and write it to u. After that I change the password key to a_stupid_pa$$word along with the password_confirmation. I then write it to the database via u.save.</something></p>

  </div>

  <h1><a href="/spacemacs/2018/02/26/spacemacs-toggle-transparency.html">spacemacs toggle-transparency</a></h1>
  <p class="author">
    <span class="date">2018-02-26 19:01:21 -0300</span>
  </p>
  <div class="content">
    <p>Anything added via spacemacs/add-toggle or things available in SPC t and SPC T should be proper toggles. This way, you can toggle them in user-config if you want to change the default state.</p>

<p>Specifically, spacemacs/toggle-transparency (and the related spacemacs/toggle-transparent-frame) both open a micro-state (in addition to toggling the setting). This means, that, if you want to have a transparent frame by default, you cannot just add (spacemacs/toggle-transparency) to your .spacemacs, because it will open the micro-state instead of just toggling transparency.</p>

<p>I’m not sure what other toggles do this, if there are any at all.</p>

<p>Ah, for now, I’m using this code in my user-config as a workaround:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"> <span class="p">;;</span> <span class="no">Transparency</span> <span class="n">by</span> <span class="n">default</span>
  <span class="p">(</span><span class="n">set</span><span class="o">-</span><span class="n">frame</span><span class="o">-</span><span class="n">parameter</span> <span class="p">(</span><span class="n">selected</span><span class="o">-</span><span class="n">frame</span><span class="p">)</span> <span class="err">'</span><span class="n">alpha</span>
                       <span class="p">(</span><span class="n">cons</span> <span class="n">dotspacemacs</span><span class="o">-</span><span class="n">active</span><span class="o">-</span><span class="n">transparency</span>
                             <span class="n">dotspacemacs</span><span class="o">-</span><span class="n">inactive</span><span class="o">-</span><span class="n">transparency</span><span class="p">))</span></code></pre></figure>

<p>later , spacemas reload config</p>

<p>SPC f  e  R</p>

<p>if you want load theme</p>

<p>SPC T s and select theme and enter</p>

  </div>

  <h1><a href="/npm/2018/02/01/how-to-install-latest-nodejs-npm-on-debian.html">How to Install Latest Nodejs & NPM on Debian</a></h1>
  <p class="author">
    <span class="date">2018-02-01 11:48:03 -0300</span>
  </p>
  <div class="content">
    <p><strong>npm installation not working under Debian Stretch</strong></p>

<p>I just tried to install node and npm on Debian Stretch. I installed node like decribed here.</p>

<p>After installing nodejs-legacy too I got the node command working but npm command still won’t be found.</p>

<p>So, I tried to install it manually via apt-get install npm but it just tells me that it can’t find the package. Next I tried the “Fancy Install (Unix)” from npm repository which fails with…</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">install</span> <span class="n">npm</span><span class="vi">@latest</span>
<span class="ss">fetching: </span><span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">registry</span><span class="p">.</span><span class="nf">npmjs</span><span class="p">.</span><span class="nf">org</span><span class="o">/</span><span class="n">npm</span><span class="o">/-</span><span class="sr">/npm-5.5.1.tgz
module.js:327
    throw err;
    ^

Error: Cannot find module '/</span><span class="n">tmp</span><span class="o">/</span><span class="n">npm</span><span class="o">.</span><span class="mi">1272</span><span class="o">/</span><span class="n">package</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">read</span><span class="o">-</span><span class="n">package</span><span class="o">-</span><span class="n">json</span><span class="p">.</span><span class="nf">js</span><span class="err">'</span>
    <span class="n">at</span> <span class="no">Function</span><span class="o">.</span><span class="no">Module</span><span class="p">.</span><span class="nf">_resolveFilename</span> <span class="p">(</span><span class="n">module</span><span class="p">.</span><span class="nf">js</span><span class="p">:</span><span class="mi">325</span><span class="p">:</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">at</span> <span class="no">Function</span><span class="o">.</span><span class="no">Module</span><span class="p">.</span><span class="nf">_load</span> <span class="p">(</span><span class="n">module</span><span class="p">.</span><span class="nf">js</span><span class="p">:</span><span class="mi">276</span><span class="p">:</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">at</span> <span class="no">Function</span><span class="o">.</span><span class="no">Module</span><span class="p">.</span><span class="nf">runMain</span> <span class="p">(</span><span class="n">module</span><span class="p">.</span><span class="nf">js</span><span class="p">:</span><span class="mi">441</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">at</span> <span class="n">startup</span> <span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="nf">js</span><span class="p">:</span><span class="mi">140</span><span class="p">:</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">at</span> <span class="n">node</span><span class="p">.</span><span class="nf">js</span><span class="p">:</span><span class="mi">1043</span><span class="p">:</span><span class="mi">3</span>
<span class="n">added</span> <span class="mi">1</span> <span class="n">package</span> <span class="n">and</span> <span class="n">removed</span> <span class="mi">1</span> <span class="n">package</span> <span class="k">in</span> <span class="mi">0</span><span class="o">.</span><span class="mi">45</span><span class="n">s</span>
<span class="sr">/usr/</span><span class="n">bin</span><span class="o">/</span><span class="n">npm</span> <span class="o">-&gt;</span> <span class="sr">/usr/</span><span class="n">lib</span><span class="o">/</span><span class="n">node_modules</span><span class="o">/</span><span class="n">npm</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">npm</span><span class="o">-</span><span class="n">cli</span><span class="p">.</span><span class="nf">js</span>
<span class="sr">/usr/</span><span class="n">bin</span><span class="o">/</span><span class="n">npx</span> <span class="o">-&gt;</span> <span class="sr">/usr/</span><span class="n">lib</span><span class="o">/</span><span class="n">node_modules</span><span class="o">/</span><span class="n">npm</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">npx</span><span class="o">-</span><span class="n">cli</span><span class="p">.</span><span class="nf">js</span>
<span class="o">+</span> <span class="n">npm</span><span class="err">@</span><span class="mi">5</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">1</span>
<span class="n">updated</span> <span class="mi">1</span> <span class="n">package</span> <span class="k">in</span> <span class="mi">1</span><span class="o">.</span><span class="mi">21</span><span class="n">s</span>
<span class="no">It</span> <span class="n">worked</span></code></pre></figure>

<p>later I look this a solution I things so … and saw if install nvm and later install with nvm install npm ???
ok I go</p>

<p>open <a href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a> 
install NVM Node Version Manager</p>

<p>Install script
To install or update nvm, you can use the install script using cURL:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">curl</span> <span class="o">-</span><span class="n">o</span><span class="o">-</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">raw</span><span class="p">.</span><span class="nf">githubusercontent</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="n">creationix</span><span class="o">/</span><span class="n">nvm</span><span class="o">/</span><span class="n">v0</span><span class="o">.</span><span class="mi">33</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">install</span><span class="p">.</span><span class="nf">sh</span> <span class="o">|</span> <span class="n">bash</span></code></pre></figure>

<p>or Wget</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">wget</span> <span class="o">-</span><span class="n">qO</span><span class="o">-</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">raw</span><span class="p">.</span><span class="nf">githubusercontent</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="n">creationix</span><span class="o">/</span><span class="n">nvm</span><span class="o">/</span><span class="n">v0</span><span class="o">.</span><span class="mi">33</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">install</span><span class="p">.</span><span class="nf">sh</span> <span class="o">|</span> <span class="n">bash</span></code></pre></figure>

<p>The script clones the nvm repository to ~/.nvm and adds the source line to your profile (~/.bash_profile, ~/.zshrc, ~/.profile, or ~/.bashrc).</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">export</span> <span class="no">NVM_DIR</span><span class="o">=</span><span class="s2">"$HOME/.nvm"</span>
<span class="p">[</span> <span class="o">-</span><span class="n">s</span> <span class="s2">"$NVM_DIR/nvm.sh"</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="p">\</span><span class="o">.</span> <span class="s2">"$NVM_DIR/nvm.sh"</span> <span class="c1"># This loads nvm</span></code></pre></figure>

<p>Note: On Linux, after running the install script, if you get nvm: command not found or see no feedback from your terminal after you type:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">command</span> <span class="o">-</span><span class="n">v</span> <span class="n">nvm</span></code></pre></figure>

<p>or run</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">nvm</span> <span class="o">--</span><span class="n">version</span></code></pre></figure>

<p>later you can run …</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">nvm</span> <span class="n">install</span> <span class="n">node</span>
<span class="no">Downloading</span> <span class="n">and</span> <span class="n">installing</span> <span class="n">node</span> <span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">.</span><span class="nf">.</span><span class="o">.</span>
<span class="no">Downloading</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">nodejs</span><span class="p">.</span><span class="nf">org</span><span class="o">/</span><span class="n">dist</span><span class="o">/</span><span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">node</span><span class="o">-</span><span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">x64</span><span class="p">.</span><span class="nf">tar</span><span class="p">.</span><span class="nf">xz</span><span class="p">.</span><span class="nf">.</span><span class="o">.</span>
<span class="c1">######################################################################## 100.0%</span>
<span class="no">Computing</span> <span class="n">checksum</span> <span class="n">with</span> <span class="n">sha256sum</span>
<span class="no">Checksums</span> <span class="n">matched!</span>
<span class="no">Now</span> <span class="n">using</span> <span class="n">node</span> <span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">npm</span> <span class="n">v5</span><span class="o">.</span><span class="mi">6</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="no">Creating</span> <span class="n">default</span> <span class="ss">alias: </span><span class="n">default</span> <span class="o">-&gt;</span> <span class="n">node</span> <span class="p">(</span><span class="o">-&gt;</span> <span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="err"> </span><span class="n">tinix</span><span class="err">  </span><span class="o">~</span><span class="err">  </span><span class="n">node</span> <span class="o">-</span><span class="n">v</span>
<span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span></code></pre></figure>

<p>look this…</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err"> </span><span class="n">tinix</span><span class="err">  </span><span class="o">~</span><span class="err">  </span><span class="n">node</span> <span class="o">-</span><span class="n">v</span>
<span class="n">v9</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span></code></pre></figure>

<p>problem solved..!!!</p>

  </div>

  <h1><a href="/ruby/2018/01/30/ruby-for-rails-blocks.html">Ruby for Rails: Blocks</a></h1>
  <p class="author">
    <span class="date">2018-01-30 12:06:31 -0300</span>
  </p>
  <div class="content">
    <p>This post is the first in a series of blog posts about Ruby for Rails beginners. These are specifically for Rails developers who want to solidify their grasp of the Ruby language.</p>

<p>More than a decade ago, I started learning Rails before I knew any Ruby. Rails is written in Ruby of course, so when writing Rails code you are writing Ruby code. But at the beginning, I didn’t fully understand how Ruby worked. And that’s fine. A lot of people started learning Rails and picked up Ruby along the way.</p>

<p>The “Ruby for Rails” series will help you learn Ruby to make you a better Rails programmer.</p>

<p>In this blog post, we’ll talk about blocks. Ruby blocks can be confusing to beginners but it’s important that you learn them because you’ll keep on using them on your Rails application.</p>

<p>One of the first code you’ll see with blocks is with loops.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="nf">.</span><span class="mi">10</span><span class="p">).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">i</span>
<span class="k">end</span></code></pre></figure>

<p>The block is inside <strong style="color: #C00;">do</strong> and <strong style="color: #C00;">end</strong>. This code displays the numbers 1 to 10. When you read it, it kind of makes sense. From 1 to 10, for each i, puts i. If you have experience with other programming languages, you might think this is just a more complicated way to do loops.</p>

<p><strong style="color: #C00;">each</strong> isn’t only for numbers. You can also iterate through an array.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">[</span><span class="s2">"Alice"</span><span class="p">,</span> <span class="s2">"Bob"</span><span class="p">,</span> <span class="s2">"Eve"</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="nb">name</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="nb">name</span>
<span class="k">end</span></code></pre></figure>

<p>This code iterates through each element and prints the name. In Rails, you commonly use each when iterating through your model.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Post</span><span class="p">.</span><span class="nf">all</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">post</span><span class="p">.</span><span class="nf">title</span>
<span class="k">end</span></code></pre></figure>

<p>Say you have a Post model with a title. When you call  <strong style="color: #C00;">each</strong>  on  <strong style="color: #C00;">Post.all</strong> , you iterate on each of those posts and the value is assigned to **post **which is inside  <code class="highlighter-rouge">||</code> . Since <strong style="color: #C00;">post</strong>  is a Post object, you can call  <strong style="color: #C00;">post.title</strong>  inside the block.</p>

<p>The examples so far show that blocks can be used to iterate through some objects. But the iteration is a by product of the <strong style="color: #C00;">each</strong> method. Blocks aren’t just for iteration. Here’s another common code in Rails.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="sx">%= form_with Post.new do |form| %&gt;
  &lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:title</span> <span class="o">%&gt;</span>
  <span class="o">&lt;</span><span class="sx">%= form.text_area :body %&gt;
&lt;% end %&gt;</span></code></pre></figure>

<table>
  <tbody>
    <tr>
      <td>We use <strong style="color: #C00;">&lt;%%&gt;</strong>  because this code appears on ERB templates. form_with is used to display an HTML form. Here, we call the <strong style="color: #C00;">form_with</strong> method and passes the Post.new parameter. form_with yields an object which we assign to form. You can use any variable inside</td>
      <td> </td>
      <td>. We could have used f here instead of form.</td>
    </tr>
  </tbody>
</table>

<p>In the examples above that used each, we yield each of the objects we’re iterating through. In form_with, we yield exactly one object which is the FormBuilder associated with the model. Inside the block you can use FormBuilder’s methods to generate fields like <strong style="color: #C00;">text_field, text_area, check_box, button,</strong>  etc.</p>

<p>All the fields inside the block are captured and displayed inside the HTML <strong style="color: #C00;">form</strong>  element.</p>

<p>These are just a few examples of blocks. You’ll see more when writing Rails code. So don’t get blocked out when coding!</p>

<p>I’d like this… original post by <a href="https://www.engineyard.com/blog/ruby-for-rails-blocks">https://www.engineyard.com/blog/ruby-for-rails-blocks</a></p>

  </div>

  <h1><a href="/ruby/2018/01/29/what-is-attr-accessor-in-rails.html">What is attr_accessor in Rails?</a></h1>
  <p class="author">
    <span class="date">2018-01-29 20:15:02 -0300</span>
  </p>
  <div class="content">
    <p>attr_accessor is used to <strong>define an attribute for object of Model which is not mapped with any column in database</strong>. This answers question - What is attr_accessor in Rails.</p>

<p><strong>1. attr_accessor Methods</strong></p>

<p>attr_accessor creates two methods i.e. getter method and setter method.</p>

<p>**getter method **- it is used to retrieve value of the attribute</p>

<p><strong>setter method</strong> - it is used to set value to the attribute</p>

<p><strong>When to use attr_accessor in Rails?</strong></p>

<p>Whenever you want to show certain attribute for particular form but you do not want to store it’s value in the database then you use attr_accessor for that model as follows,</p>

<p>Suppose we have a Model called user in out database with following fields,</p>

<ul>
  <li>id</li>
  <li>name</li>
  <li>age</li>
  <li>city</li>
  <li>profession</li>
</ul>

<p>And we define attr_accessor :type_of_user as follows,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Class</span> <span class="no">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
   <span class="kp">attr_accessor</span> <span class="ss">:type_of_user</span>
<span class="k">end</span></code></pre></figure>

<p>Now, whenever you create a object of the class User then you can assign a value to it’s attr_accessor.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">new_user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Albert'</span><span class="p">,</span> <span class="ss">:age</span> <span class="o">=&gt;</span> <span class="mi">23</span><span class="p">,</span> <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Ports S.'</span><span class="p">)</span></code></pre></figure>

<p>This will create new object of class User and assign given attribute values. You can assign value to attr_accessor variable as follows,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">ew_user</span><span class="p">.</span><span class="nf">type_of_user</span> <span class="o">=</span> <span class="s1">'middle-aged'</span></code></pre></figure>

<p>This assigns ‘middle-aged’ value to the attribute type_of_user attr_accessor.</p>

<p>getter and setter in Action
For attribute type_of_user getter and setter methods are created as follows,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># getter</span>
<span class="k">def</span> <span class="nf">type_of_user</span>
  <span class="vi">@type_of_user</span>
<span class="k">end</span>

<span class="c1"># setter</span>
<span class="k">def</span> <span class="nf">type_of_user</span><span class="o">=</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
  <span class="vi">@type_of_user</span> <span class="o">=</span> <span class="n">val</span>
<span class="k">end</span></code></pre></figure>

<p>And these are used whenever we assign or retrieve values from the attr_accessor.</p>

<ol>
  <li>Usage in Classes
Whenever changing value of the attr_accessor variables, we need to use self.variable_name =  to assign new value to the variable. Otherwise, it will consider it as a local variable resulting into incorrect values.</li>
</ol>

<p>For example,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SimpleService</span>

  <span class="kp">attr_accessor</span> <span class="ss">:name</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">process</span>
    <span class="k">if</span> <span class="kp">false</span> <span class="c1"># some condition met</span>
      <span class="nb">name</span> <span class="o">=</span> <span class="s1">'Akshay'</span>
    <span class="k">end</span>
    <span class="nb">name</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>Here, it the above service class we have defined name as the attr_accessor. We need to change it’s value based on some condition. And we return it’s value from process method.</p>

<p>When we execute this class as,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">SimpleService</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'John Doe'</span><span class="p">).</span><span class="nf">process</span>
<span class="o">=&gt;</span> <span class="kp">nil</span></code></pre></figure>

<p>We can see that process method has returned nil.</p>

<p>Explaination</p>

<p>In the block,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">process</span>
  <span class="k">if</span> <span class="kp">false</span> <span class="c1"># some condition met</span>
    <span class="nb">name</span> <span class="o">=</span> <span class="s1">'Akshay'</span>
  <span class="k">end</span>
  <span class="nb">name</span>
<span class="k">end</span></code></pre></figure>

<p>As the if condition is false, and value of name is returned from the process method, name is considered as the local variable. Local variable name does not have any value. Thus, it returns nil.</p>

<p>Correction</p>

<p>To correct the above service class, we need to use explicity self when assigning value to the attr_accessor variable as given below,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SimpleService</span>

  <span class="kp">attr_accessor</span> <span class="ss">:name</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">process</span>
    <span class="k">if</span> <span class="kp">false</span> <span class="c1"># some condition met</span>
      <span class="nb">self</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'Akshay'</span>
    <span class="k">end</span>
    <span class="nb">name</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>Now if we execute this class, we will get expected result as given below.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">SimpleService</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'John Doe'</span><span class="p">).</span><span class="nf">process</span>
<span class="o">=&gt;</span> <span class="s2">"John Doe"</span></code></pre></figure>

<ol>
  <li>Lifetime of attr_accessor
attr_accessor is accessible throughout object’s lifecycle. When object is saved using any of ActiveRecord method, save, update etc. all attributes of Model other than attr_accessor are saved in the database.</li>
</ol>

<p>How to Access
Throughout lifecycle of object, you can access the value of attribute accessor as follows,</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">new_user</span><span class="p">.</span><span class="nf">type_of_user</span></code></pre></figure>

<ol>
  <li>Conclusion
We learned what is attr_accessor in Rails and how to use it with Rails .</li>
</ol>


  </div>

<br>
<!--Pagination links  -->

<div class="btn btn-default">
  
  <a href="/page2">&laquo; Prev</a>
  

  
  
  <a href="/page2">1</a>
  
  
  
  <a href="/page2">2</a>
  
  
  
  <em>3</em>
  
  
  
  <a href="/page4">4</a>
  
  
  
  <a href="/page5">5</a>
  
  
  
  <a href="/page6">6</a>
  
  

  
  <a href="/page4">Next &raquo;</a>
  
</div>

<br>
<hr>
  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>


      </div>
    </main>
    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Tinix&#39;s different point of view.</h2>
    <p>Thoughts notes and other things more...</p>
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <!-- <li>Tinix&#39;s different point of view.</li> -->
          <li><a href="mailto:daniel.tinivella@gmail.com">daniel.tinivella@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
         
          
          <li>
            <a href="https://github.com/Tinix"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">Tinix</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/Tinix"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">Tinix</span></a>

          </li>
          

          
          <li>
            <a href="https://gitlab.com/Tinix"><span class="icon icon--gitlab"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#30353e"/><path fill="#e24329" d="M84 215l43-133c2-7 12-7 14 0l115 353L371 82c2-7 12-7 14 0l43 133"/><path fill="#fc6d26" d="M256 435L84 215h100.4zm71.7-220H428L256 435l71.6-220z"/><path fill="#fca326" d="M84 215l-22 67c-2 6 0 13 6 16l188 137zm344 0l22 67c2 6 0 13-6 16L256 435z"/></svg></span>
  <span class="username">Tinix</span></a>

          </li>
          
         
        </ul>
      </div>

      <!-- Begin Stat for Default  -->
<script type="text/javascript">
var sc_project=9629919;
var sc_invisible=1;
var sc_security="fd5bb5c2";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="shopify visitor
statistics" href="http://statcounter.com/shopify/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/9629919/0/fd5bb5c2/1/"
alt="shopify visitor statistics"></a></div></noscript>
<!-- End of Stat for Default -->

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
  m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
  (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

  ym(56423338, "init", {
       clickmap:true,
       trackLinks:true,
       accurateTrackBounce:true
  });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/56423338" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
      <div class="footer-col footer-col-3">
         <p>
    &copy; 2003 - 2021 Daniel Tinivella . All rights reserved.<br/>
    DanielTinivella is powered by: <a href="http://jekyllrb.com">Jekyll</a>,<br />
    <a href="https://www.vim.org/">Vim</a> and <a href="http://disqus.com">Disqus</a>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
